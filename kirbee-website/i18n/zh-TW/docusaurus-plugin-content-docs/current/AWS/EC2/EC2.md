---
title: EC2 (算术云)
author: Kirbee
---

# EC2 (算术云)

## 密钥能力

- **出租虚拟机** (EC2)
- **在虚拟驱动器上存储数据** (EBS)
- **分布跨机器负载** (ELB)
- **使用自动缩放组的缩放服务** (ASG)

---

## EC2 缩放和配置选项

- **操作系统 (OS)：** Linux、 Windows或macOS
- **计算电源和核心(CPU)：** 适合工作量需要
- **内存(RAM)：** 可为不同的应用程序要求配置
- **存储:**
- 网络连接(EBS, EFS)
- 本地硬件(EC2实例存储)
- **网络卡:** 速度, 公共IP地址选项
- **防火墙规则：** 通过安全组配置
- **Bootstrap 脚本：** 使用 EC2 用户数据配置启动实例

---

## EC2 用户数据

- 通过 **bootstrap 脚本**实现实例初始化。
- **执行一次** 在首次启动时.
- 常见任务：
- 正在安装更新或软件
- 下载文件
- 配置环境
- 以 **root 用户权限** 运行。

---

## EC2 实例类型

### 命名公约示例

`m5.2xlarge`

- **m:** 实例类
- **5:** 生成
- \*\*2xlare: \*\* 实例类中的大小

### 1. 一般目的

- 平衡的工作负载(例如网络服务器，仓库)
- **compute**, **memory**, 和 **networking**之间的均等分布。
- 示例： `t2.micro` (通常在教程中使用)。

### 计算优化

- 计算机密集任务的高性能处理器：
- 批量处理
- 媒体转码
- 科学建模和 ML
- 游戏服务器

### 内存优化

- 用于处理内存中\*\*大数据集的理想：
- 高性能数据库
- 实时大数据分析
- 内存数据库

### 优化存储空间

- 设计用于高**读/写访问**的存储重型任务：
- 在线交易处理 (OLTP)
- 数据存储
- 分布式文件系统

---

## 安全组

- AWS中**网络安全**的核心。
- 作为防火墙，控制：
- **入站流量：** 从外部来源到实例
- **出站流量：** 从实例到外部来源
- 功能：
- **仅限规则** (没有拒绝规则)
- 指定 IP 范围 (IPv4/IPv6) 或参考其他安全组

### 公共端口

- **22:** SSH (Secure Shell) - Linux 登录
- **21:** FTP - 文件上传
- **22:** SFTP - 安全文件上传
- **80:** HTTP - 不安全的网络流量
- **443:** HTTPS - 安全网络流量
- **3389:** RDP (远程桌面协议) - Windows 登录

---

## EC2 实例购买选项

### 有需求的实例

- **弹性** 和可以预测, 按秒开列(Linux/Windows)。
- 高成本，没有预付款项，没有长期承诺。
- 理想：
- 短期、**不可预测的工作量**。
- 需要灵活性的申请。

### 预留实例(1年和3年)

- 不超过**72%的折扣** 相对于需求.
- 选项：
- **Standard:** 固定实例属性。
- **可转换：** 更改实例类型和配置的灵活性。
- 适合**稳定状态使用** (例如数据库)。

### 储蓄计划

- 承诺在 1 或3 年内使用 **小时**。
- 最多为 \*\*72%\*\*的折扣，类似于保留的实例。
- 跨越大小、开放源码和租用地的弹性。

### 点实例

- **成本效益：** 最高可**90%折扣** 与需求对应。
- 当现货价格超过出价价格时，实例可以终止。
- 适合于：
- **批处理作业**
- **数据分析**
- 非关键或灵活的工作负载

### 专用主机

- 物理服务器专用于您的使用。
- 满足遵约或许可证方面的需要（例如，国际年）。
- 最昂贵的选择。
- 使用案例：
- 复杂的许可模型软件
- 规章制度要求

### 专用实例

- 实例运行于硬件**专属** 上。
- 没有对实例位置设置的控制。
- 可以与您帐户中的其他实例共享硬件。

### 能力保留

- 储备**特定AZ中的容量**。
- 不论使用情况如何，都按需求付费。
- 没有长期承诺；随时取消。

#### 购买选项摘要

| 选项   | 折扣     | 承诺    | 最好的           |
| ---- | ------ | ----- | ------------- |
| 正在需求 | 无      | 无     | 短期不可预测的工作负载   |
| 保留   | 不超过72% | 1-3 年 | 稳定状态应用程序      |
| 储蓄计划 | 不超过72% | 1-3 年 | 灵活的长期使用       |
| 点数   | 高达90%  | 无     | 对费用敏感、灵活的工作负载 |
| 专用主机 | 无      | 可选的   | 遵守规定或BYOL要求   |
| 容量保留 | 无      | 无     | 特定AZ的保留能力     |

---

## 共同责任模型

### AWS 责任：

- 基础设施安全（例如全球网络、有形东道国）。
- 硬件维护和遵守验证.

### 用户责任：

- 配置 **Security Group** 。
- 应用操作系统补丁和更新。
- 管理 **IAM Roles** 和用户权限。
- EC2实例的安全数据。

### 共同责任存储

### AWS 责任：

- B. 基础设施
- EBS卷和EFS 驱动器的数据复制
- 替换错误的硬件
- 确保他们的员工无法访问您的数据

### 用户责任：

- 设置备份/快照程序
- 设置数据加密
- 驱动器上任何数据的责任
- 理解使用 EC2 实例商店的风险

---

## Summary

### EC2 组件：

- **用户管理：** 实例类型、配置和安全性。
- **AWS管理：** 基础设施、孤立和遵约。

### EC2 存储：

EBS卷：

- 每次连接到一个 EC2 实例的网络驱动器
- 映射到可用区
- 可以使用 EBS Snapshots 备份/在整个AZ 传输EBS音量
- AMI: 通过我们的自定义创建即时使用的 EC2 实例
- EC2 图像生成器：自动生成、测试和分发AML
- EC2 实例存储：
  高性能硬件磁盘附加到我们的 EC2 实例
- 如果我们的实例已停止/终止
- EFS：网络文件系统，可以附加到某个区域的100个实例
- EFS-IA：为不经常访问的文件优化成本存储类
- Windows：Windows 服务器网络文件系统
- Lustre：高性能计算Linux文件

### 密钥特征：

- **实例变量：** 优化用于计算、内存或存储。
- **购买选项：** 按成本和工作量需要调整。
- **安全:** 控制与安全小组的交通，分担安全等责任。

通过了解和优化EC2能力，用户可以在AWS中建立可扩展、具有成本效益和安全的解决办法。
