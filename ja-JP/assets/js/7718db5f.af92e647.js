"use strict";(self.webpackChunkkirbee_website=self.webpackChunkkirbee_website||[]).push([[4809],{56024:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"AWS/Compute Service/EC2/Elastic-ip","title":"Elastic IP","description":"- Public IP:","source":"@site/docs/AWS/Compute Service/EC2/Elastic-ip.md","sourceDirName":"AWS/Compute Service/EC2","slug":"/AWS/Compute Service/EC2/Elastic-ip","permalink":"/kirbeee/ja-JP/docs/AWS/Compute Service/EC2/Elastic-ip","draft":false,"unlisted":false,"editUrl":"https://github.com/kirbeee/kirbeee/docs/AWS/Compute Service/EC2/Elastic-ip.md","tags":[],"version":"current","lastUpdatedBy":"kirbeee","lastUpdatedAt":1744362010000,"frontMatter":{"title":"Elastic IP"},"sidebar":"docs","previous":{"title":"EFS (Elastic File System)","permalink":"/kirbeee/ja-JP/docs/AWS/Compute Service/EC2/EFS"},"next":{"title":"FSx","permalink":"/kirbeee/ja-JP/docs/AWS/Compute Service/EC2/FSx"}}');var s=i(74848),r=i(28453);const a={title:"Elastic IP"},l="Private vs Public IP ((Pv4) Fundamental Differences",c={},o=[{value:"EC2 Hibernate - Good to Know",id:"ec2-hibernate---good-to-know",level:2}];function d(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"private-vs-public-ip-pv4-fundamental-differences",children:"Private vs Public IP ((Pv4) Fundamental Differences"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Public IP:"}),"\n",(0,s.jsx)(n.li,{children:"Public IP means the machine can be identified on the internet (WWW)"}),"\n",(0,s.jsx)(n.li,{children:"Must be unique across the whole web (not two machines can have the same public IP)."}),"\n",(0,s.jsx)(n.li,{children:"Can be geo-located easily"}),"\n",(0,s.jsx)(n.li,{children:"Private IP:"}),"\n",(0,s.jsx)(n.li,{children:"Private IP means the machine can only be identified on a private network only"}),"\n",(0,s.jsx)(n.li,{children:"The IP must be unique across the private network"}),"\n",(0,s.jsx)(n.li,{children:"BUT two different private networks (two companies) can have the same IPs."}),"\n",(0,s.jsx)(n.li,{children:"Machines connect to WWW using a NAT + internet gateway (a proxy)"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"elastic-ip",children:"Elastic IP"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"With an Elastic IP address, you can mask the failure of an instance or software by rapidly remapping the address to another instance in your account."}),"\n",(0,s.jsx)(n.li,{children:"You can only have 5 Elastic IP in your account (you can ask AWS to increase that)."}),"\n",(0,s.jsx)(n.li,{children:"Overall, try to avoid using Elastic IP:"}),"\n",(0,s.jsx)(n.li,{children:"They often reflect poor architectural decisions"}),"\n",(0,s.jsx)(n.li,{children:"Instead, use a random public IP and register a DNS name to it."}),"\n",(0,s.jsx)(n.li,{children:"Or, as we'll see later, use a Load Balancer and don't use a public IP"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"private-vs-public-ip-pv4-in-aws-ec2---hands-on",children:"Private vs Public IP ((Pv4) In AWS EC2 - Hands On"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"By default, your EC2 machine comes with:"}),"\n",(0,s.jsx)(n.li,{children:"A private IP for the internal AWS Network"}),"\n",(0,s.jsxs)(n.li,{children:["A public IP, for the ",(0,s.jsx)(n.a,{href:"http://WWW",children:"WWW"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"When we are doing SSH into our EC2 machines:"}),"\n",(0,s.jsx)(n.li,{children:"We can't use a private IP, because we are not in the same network"}),"\n",(0,s.jsx)(n.li,{children:"We can only use the public IP."}),"\n",(0,s.jsx)(n.li,{children:"If your machine is stopped and then started, the public IP can change"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h1,{id:"eni-elastic-network-interface",children:"ENI (Elastic Network Interface)"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img.png",src:i(74419).A+"",width:"341",height:"316"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Logical component in a VPC that represents a virtual network card"}),"\n",(0,s.jsxs)(n.li,{children:["The ENI can have the following attributes:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Primary private IPv4, one or more secondary IPv4"}),"\n",(0,s.jsx)(n.li,{children:"One Elastic IP (IPv4) per private IPv4"}),"\n",(0,s.jsx)(n.li,{children:"One Public IPv4"}),"\n",(0,s.jsx)(n.li,{children:"One or more security groups"}),"\n",(0,s.jsx)(n.li,{children:"A MAC address"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"You can create ENI independently and attach them on the fly (move them) on EC2 instances for failover"}),"\n",(0,s.jsx)(n.li,{children:"Bound to a specific availability zone (AZ)"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"ec2-hibernate",children:"EC2 Hibernate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img.png",src:i(91587).A+"",width:"371",height:"497"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Introducing EC2 Hibernate:"}),"\n",(0,s.jsx)(n.li,{children:"The in-memory (RAM) state is preserved"}),"\n",(0,s.jsx)(n.li,{children:"The instance boot is much faster!(the OS is not stopped / restarted)"}),"\n",(0,s.jsx)(n.li,{children:"Under the hood: the RAM state is written to a file in the root EBS volume"}),"\n",(0,s.jsx)(n.li,{children:"The root EBS volume must be encrypted"}),"\n",(0,s.jsx)(n.li,{children:"Use cases:"}),"\n",(0,s.jsx)(n.li,{children:"Long-running processing"}),"\n",(0,s.jsx)(n.li,{children:"Saving the RAM state"}),"\n",(0,s.jsx)(n.li,{children:"Services that take time to initialize"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"ec2-hibernate---good-to-know",children:"EC2 Hibernate - Good to Know"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Supported Instance Families \u2013 C3, C4, C5, I3, M3, M4, R3, R4, T2, T3, \u2026"}),"\n",(0,s.jsx)(n.li,{children:"Instance RAM Size \u2013 must be less than 150 GB."}),"\n",(0,s.jsx)(n.li,{children:"Instance Size \u2013 not supported for bare metal instances."}),"\n",(0,s.jsx)(n.li,{children:"AMI \u2013 Amazon Linux 2, Linux AMI, Ubuntu, RHEL, CentOS & Windows\u2026"}),"\n",(0,s.jsx)(n.li,{children:"Root Volume \u2013 must be EBS, encrypted, not instance store, and large"}),"\n",(0,s.jsx)(n.li,{children:"Available for On-Demand, Reserved and Spot Instances"}),"\n",(0,s.jsx)(n.li,{children:"An instance can NOT be hibernated more than 60 days"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},74419:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ENI-1e5b92e600ff2a96729299d3d425052a.png"},91587:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Hibernate-d63cc86bf19b91c1183a512a52d564fc.png"},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var t=i(96540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);