"use strict";(self.webpackChunkkirbee_website=self.webpackChunkkirbee_website||[]).push([[2628],{38964:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"AWS/Database/Athena","title":"amazon-athena","description":"Amazon Athena","source":"@site/docs/AWS/Database/Athena.md","sourceDirName":"AWS/Database","slug":"/AWS/Database/Athena","permalink":"/kirbeee/ja-JP/docs/AWS/Database/Athena","draft":false,"unlisted":false,"editUrl":"https://github.com/kirbeee/kirbeee/docs/AWS/Database/Athena.md","tags":[],"version":"current","lastUpdatedBy":"kirbeee","lastUpdatedAt":1744362010000,"frontMatter":{"title":"amazon-athena"},"sidebar":"docs","previous":{"title":"Database","permalink":"/kirbeee/ja-JP/docs/AWS/Database/"},"next":{"title":"Amazon Aurora","permalink":"/kirbeee/ja-JP/docs/AWS/Database/Aurora"}}');var t=a(74848),r=a(28453);const i={title:"amazon-athena"},o="Amazon Athena",l={},c=[{value:"Amazon Athena \u2013 Performance Improvement",id:"amazon-athena--performance-improvement",level:2},{value:"Federated Query",id:"federated-query",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"amazon-athena",children:"Amazon Athena"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Amazon Athena",src:a(81998).A+"",width:"874",height:"1640"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Serverless query service to perform analytics against S3 objects"}),"\n",(0,t.jsx)(n.li,{children:"Uses standard SQL language to query the files"}),"\n",(0,t.jsx)(n.li,{children:"Supports CSV, JSON, ORC, Avro, and Parquet (built on Presto)"}),"\n",(0,t.jsx)(n.li,{children:"Pricing: $5.00 per TB of data scanned"}),"\n",(0,t.jsx)(n.li,{children:"Use compressed or columnar data for cost-savings (less scan)"}),"\n",(0,t.jsx)(n.li,{children:"Use cases: Business intelligence / analytics / reporting, analyze & query VPC Flow Logs, ELB Logs, CloudTrail trails, etc..."}),"\n",(0,t.jsx)(n.li,{children:"Exam Tip: analyze data in S3 using serverless SQL, use Athena"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"amazon-athena--performance-improvement",children:"Amazon Athena \u2013 Performance Improvement"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use columnar data for cost-savings (less scan)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Apache Parquet or ORC is recommended"}),"\n",(0,t.jsx)(n.li,{children:"Huge performance improvement"}),"\n",(0,t.jsx)(n.li,{children:"Use Glue to convert your data to Parquet or ORC"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Compress data for smaller retrievals (bzip2, gzip, lz4, snappy, zlip, zstd\u2026)"}),"\n",(0,t.jsxs)(n.li,{children:["Partition datasets in S3 for easy querying on virtual columns","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"s3://yourBucket/pathToTable"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"/<PARTITION_COLUMN_NAME>=<VALUE>\n/<PARTITION_COLUMN_NAME>=<VALUE>\n/<PARTITION_COLUMN_NAME>=<VALUE>\n/etc\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Example: s3://athena-examples/flight/parquet/year=1991/month=1/day=1/"}),"\n",(0,t.jsx)(n.li,{children:"Use larger files (> 128 MB) to minimize overhead"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"federated-query",children:"Federated Query"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Allows you to run SQL queries across data stored in relational, non-relational, object, and custom data sources (AWS or on-premises)"}),"\n",(0,t.jsx)(n.li,{children:"Uses Data Source Connectors that run on AWS Lambda to run Federated Queries (e.g., CloudWatch Logs, DynamoDB, RDS, \u2026)"}),"\n",(0,t.jsxs)(n.li,{children:["Store the results back in Amazon S3\n",(0,t.jsx)(n.img,{alt:"img.png",src:a(30796).A+"",width:"583",height:"641"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},81998:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/Athena-f64026650af8ea2227b7fd183fe173bb.png"},30796:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/federated-query-8dc9e1d198fbb3811c2d1c93d9fab904.png"},28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var s=a(96540);const t={},r=s.createContext(t);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);