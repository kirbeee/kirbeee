"use strict";(self.webpackChunkkirbee_website=self.webpackChunkkirbee_website||[]).push([[8216],{6464:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"AWS/iam","title":"IAM","description":"Structure: Role, Group, User","source":"@site/docs/AWS/IAM.md","sourceDirName":"AWS","slug":"/aws/iam","permalink":"/kirbeee/docs/aws/iam","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"iam","title":"IAM","slug":"/aws/iam"},"sidebar":"docs","previous":{"title":"Outpost","permalink":"/kirbeee/docs/AWS/Global Infrastruture/outpost"},"next":{"title":"Region","permalink":"/kirbeee/docs/aws/region"}}');var r=n(4848),o=n(8453);const t={id:"iam",title:"IAM",slug:"/aws/iam"},l="IAM (identity and access management)",a={},c=[{value:"Permissions",id:"permissions",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"Password Policies",id:"password-policies",level:2},{value:"MFA (Multi-Factor Authentication)",id:"mfa-multi-factor-authentication",level:2},{value:"How can users access AWS?",id:"how-can-users-access-aws",level:2},{value:"Roles",id:"roles",level:2},{value:"Security Tool",id:"security-tool",level:2},{value:"Share IAM Responsibilities",id:"share-iam-responsibilities",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"iam-identity-and-access-management",children:"IAM (identity and access management)"})}),"\n",(0,r.jsx)(s.p,{children:"Structure: Role, Group, User"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Global service"}),"\n",(0,r.jsx)(s.li,{children:"Root account created by default, shouldn't be used or shared"}),"\n",(0,r.jsx)(s.li,{children:"Users are people within your organization, and can be grouped"}),"\n",(0,r.jsx)(s.li,{children:"Groups only contain users, not other groups"}),"\n",(0,r.jsx)(s.li,{children:"Users don't have to belong to a group, and user can belong to multiple"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"permissions",children:"Permissions"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Users or Groups can be assigned JSON documents called policies"}),"\n",(0,r.jsx)(s.li,{children:"These policies define the permissions of the users"}),"\n",(0,r.jsx)(s.li,{children:"In AWS you apply the least privilege principle: don't give more permissions than a user needs"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Consists of:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:'Version: policy language version, always include "20 12-10-17"'}),"\n",(0,r.jsx)(s.li,{children:"Id: an identifier for the policy (optional)"}),"\n",(0,r.jsx)(s.li,{children:"Statement: one or more individual statements (required)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Statements consists of","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Sid: an identifier for the statement (optional)"}),"\n",(0,r.jsx)(s.li,{children:"Effect: whether the statement allows or denies access(Allow, Deny)"}),"\n",(0,r.jsx)(s.li,{children:"Principal: account/user/role to which this policy applied to"}),"\n",(0,r.jsx)(s.li,{children:"Action: list of actions this policy allows or denies"}),"\n",(0,r.jsx)(s.li,{children:"Resource: list of resources to which the actions applied to"}),"\n",(0,r.jsx)(s.li,{children:"Condition: conditions for when this policy is in effect (optional)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "id": "iam",\n    "Statement": [\n        {\n            "Sid": "1",\n            "Effect": "Allow",\n            "Principal": {\n                "AWS": "arn:aws:iam::123456789012:root"\n            },\n            "Action": "s3:*",\n            "Resource": "*"\n        }\n    ]\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"password-policies",children:"Password Policies"}),"\n",(0,r.jsx)(s.p,{children:"\u2022 Strong passwords = higher security for your account\n\u2022 In AWS, you can setup a password policy:\n\u2022 Set a minimum password length\n\u2022 Require specific character types:\n\u2022 including uppercase letters\n\u2022 lowercase letters\n\u2022 numbers\n\u2022 non-alphanumeric characters\n\u2022 Allow all IAM users to change their own passwords\n\u2022 Require users to change their password after some time (password expiration)\n\u2022 Prevent password re-use"}),"\n",(0,r.jsx)(s.h2,{id:"mfa-multi-factor-authentication",children:"MFA (Multi-Factor Authentication)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Users have access to your account and can possibly change configurations or delete resources in your AWS account"}),"\n",(0,r.jsx)(s.li,{children:"You want to protect your Root Accounts and IAM users"}),"\n",(0,r.jsx)(s.li,{children:"MFA = password you know + security device you own"}),"\n",(0,r.jsxs)(s.li,{children:["MFA can be:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Virtual MFA device"}),"\n",(0,r.jsx)(s.li,{children:"Universal 2nd Factor (U2F) Security Key"}),"\n",(0,r.jsx)(s.li,{children:"Hardware Key Fob MFA Device"}),"\n",(0,r.jsx)(s.li,{children:"Hardware Key Fob MFA Device for AWS GovCloud (US)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"how-can-users-access-aws",children:"How can users access AWS?"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["To access AWS, you have three options:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"AWS Management Console (protected by password + MFA)"}),"\n",(0,r.jsx)(s.li,{children:"AWS Command Line Interface (CLI): protected by access keys"}),"\n",(0,r.jsx)(s.li,{children:"AWS Software Developer Kit (SDK) - for code: protected by access"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"roles",children:"Roles"}),"\n",(0,r.jsx)(s.p,{children:"\u2022 Some AWS service will need to perform actions on your behalf\n\u2022 To do so, we will assign permissions to AWS services with IAM Roles\n\u2022 Common roles:\n\u2022 EC2 Instance Roles\n\u2022 Lambda Function Roles\n\u2022 Roles for CloudFormation"}),"\n",(0,r.jsx)(s.h2,{id:"security-tool",children:"Security Tool"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"IAM Credentials Report\na report that lists all your account's users and the status of their various credentials"}),"\n",(0,r.jsx)(s.li,{children:"IAM Access Advisor\nAccess advisor shows the service permissions granted to a user and when those services were last accessed.\nYou can use this information to revise your policies."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"share-iam-responsibilities",children:"Share IAM Responsibilities"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"AWS is responsible for:\n\u2022 Infrastructure (global network security)\n\u2022 Configuration and vulnerability analysis\n\u2022 Compliance validation"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"You are responsible for:\n\u2022 Users, Groups, Roles, Policies management and monitoring\n\u2022 Enable MFA on all accounts\n\u2022 Rotate all your keys often\n\u2022 Use IAM tools to apply appropriate permissions\n\u2022 Analyze access patterns & review permissions"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(s.p,{children:"\u2022 Users: mapped to a physical user, has a password for AWS Console\n\u2022 Groups: contains users only\n\u2022 Policies: JSON document that outlines permissions for users or groups\n\u2022 Roles: for EC2 instances or AWS services\n\u2022 Security: MFA + Password Policy\n\u2022 AWS CLI: manage your AWS services using the command-line\n\u2022 AWS SDK: manage your AWS services using a programming language\n\u2022 Access Keys: access AWS using the CLI or SDK\n\u2022 Audit: IAM Credential Reports & IAM Access Advisor"})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>l});var i=n(6540);const r={},o=i.createContext(r);function t(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);