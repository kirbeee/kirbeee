"use strict";(self.webpackChunkkirbee_website=self.webpackChunkkirbee_website||[]).push([[9939],{66054:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"AWS/Compute Service/EC2/EBS","title":"EBS (Elastic Block Store)","description":"- An EBS (Elastic Block Store) Volume is a network drive you can attach to your instances while they run","source":"@site/docs/AWS/Compute Service/EC2/EBS.md","sourceDirName":"AWS/Compute Service/EC2","slug":"/AWS/Compute Service/EC2/EBS","permalink":"/kirbeee/docs/AWS/Compute Service/EC2/EBS","draft":false,"unlisted":false,"editUrl":"https://github.com/kirbeee/kirbeee/docs/AWS/Compute Service/EC2/EBS.md","tags":[],"version":"current","lastUpdatedBy":"kirbeee","lastUpdatedAt":1744343019000,"frontMatter":{"title":"EBS (Elastic Block Store)","author":"Kirbee"},"sidebar":"docs","previous":{"title":"AMI","permalink":"/kirbeee/docs/AWS/Compute Service/EC2/AMI"},"next":{"title":"EC2 Image Builder","permalink":"/kirbeee/docs/AWS/Compute Service/EC2/EC2-Image-Builder"}}');var t=i(74848),l=i(28453);const r={title:"EBS (Elastic Block Store)",author:"Kirbee"},o="Introduction to EBS",a={},c=[{value:"gp2 / gp3 (SSD)",id:"gp2--gp3-ssd",level:3},{value:"gp3:",id:"gp3",level:4},{value:"gp2:",id:"gp2",level:4},{value:"io1 / io2 Block Express (SSD)",id:"io1--io2-block-express-ssd",level:3},{value:"io1 (4 GiB - 16 TiB)",id:"io1-4-gib---16-tib",level:4},{value:"io2 Block Express (4 GiB \u2013 64 TiB)",id:"io2-block-express-4-gib--64-tib",level:4},{value:"st1 / sc1 (HDD)",id:"st1--sc1-hdd",level:3},{value:"st1 (HDD)",id:"st1-hdd",level:4},{value:"sc1 (HDD)",id:"sc1-hdd",level:4},{value:"EBS Multi-Attach",id:"ebs-multi-attach",level:2},{value:"Summary",id:"summary",level:2},{value:"EBS Snapshot Archive",id:"ebs-snapshot-archive",level:2},{value:"Recycle Bin for EBS Snapshots",id:"recycle-bin-for-ebs-snapshots",level:2},{value:"Fast Snapshot Restore (FSR)",id:"fast-snapshot-restore-fsr",level:2}];function h(e){const n={h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"introduction-to-ebs",children:"Introduction to EBS"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"An EBS (Elastic Block Store) Volume is a network drive you can attach to your instances while they run"}),"\n",(0,t.jsx)(n.li,{children:"It allows your instances to persist data, even after their termination"}),"\n",(0,t.jsx)(n.li,{children:"They are bound to a specific availability zone"}),"\n",(0,t.jsxs)(n.li,{children:["Analogy",":Think",' of them as a "network USB stick"']}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"ebs-volume",children:"EBS Volume"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img.png",src:i(86046).A+"",width:"816",height:"375"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["It\u2019s a network drive (i.e. not a physical drive)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"It uses the network to communicate the instance, which means there might be a bit of latency"}),"\n",(0,t.jsx)(n.li,{children:"It can be detached from an EC2 instance and attached to another one quickly"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["It\u2019s locked to an Availability Zone (AZ)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"An EBS Volume in us-east-1a cannot be attached to us-east-1b"}),"\n",(0,t.jsx)(n.li,{children:"To move a volume across, you first need to snapshot it"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Have a provisioned capacity (size in GBs, and IOPS)","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You get billed for all the provisioned capacity"}),"\n",(0,t.jsx)(n.li,{children:"You can increase the capacity of the drive over time"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"ebs-volume-types",children:"EBS Volume Types"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"EBS Volumes come in 6 types"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"gp2--gp3-ssd",children:"gp2 / gp3 (SSD)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"General purpose SSD volume that balances price and performance for a wide variety of workloads"}),"\n",(0,t.jsx)(n.li,{children:"Cost effective storage, low-latency"}),"\n",(0,t.jsx)(n.li,{children:"System boot volumes, Virtual desktops, Development and test environments"}),"\n",(0,t.jsx)(n.li,{children:"1 GiB - 16 TiB"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"gp3",children:"gp3:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Baseline of 3,000 IOPS and throughput of 125 MiB/s"}),"\n",(0,t.jsx)(n.li,{children:"Can increase IOPS up to 16,000 and throughput up to 1000 MiB/s independently"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"gp2",children:"gp2:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Small gp2 volumes can burst IOPS to 3,000"}),"\n",(0,t.jsx)(n.li,{children:"Size of the volume and IOPS are linked, max IOPS is 16,000"}),"\n",(0,t.jsx)(n.li,{children:"3 IOPS per GB, means at 5,334 GB we are at the max IOPS"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"io1--io2-block-express-ssd",children:"io1 / io2 Block Express (SSD)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Highest-performance SSD volume for mission-critical low-latency or high-throughput workloads"}),"\n",(0,t.jsx)(n.li,{children:"Critical business applications with sustained IOPS performance"}),"\n",(0,t.jsx)(n.li,{children:"Or applications that need more than 16,000 IOPS"}),"\n",(0,t.jsx)(n.li,{children:"Great for databases workloads (sensitive to storage perf and consistency)"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"io1-4-gib---16-tib",children:"io1 (4 GiB - 16 TiB)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Max PIOPS: 64,000 for Nitro EC2 instances & 32,000 for other"}),"\n",(0,t.jsx)(n.li,{children:"Can increase PIOPS independently from storage size"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"io2-block-express-4-gib--64-tib",children:"io2 Block Express (4 GiB \u2013 64 TiB)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sub-millisecond latency"}),"\n",(0,t.jsxs)(n.li,{children:["Max PIOPS: 256,000 with an IOPS",":GiB"," ratio of 1,000:1"]}),"\n",(0,t.jsx)(n.li,{children:"Supports EBS Multi-attach"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"st1--sc1-hdd",children:"st1 / sc1 (HDD)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cannot be a boot volume"}),"\n",(0,t.jsx)(n.li,{children:"125 GiB to 16 TiB"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"st1-hdd",children:"st1 (HDD)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Low cost HDD volume designed for frequently accessed, throughput intensive workloads"}),"\n",(0,t.jsx)(n.li,{children:"Big Data, Data Warehouses, Log Processing"}),"\n",(0,t.jsx)(n.li,{children:"Max throughput 500 MiB/s \u2013 max IOPS 500"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"sc1-hdd",children:"sc1 (HDD)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Lowest cost HDD volume designed for less frequently accessed workloads"}),"\n",(0,t.jsx)(n.li,{children:"For data that is infrequently accessed"}),"\n",(0,t.jsx)(n.li,{children:"Scenarios where lowest cost is important"}),"\n",(0,t.jsx)(n.li,{children:"Max throughput 250 MiB/s \u2013 max IOPS 250"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ebs-multi-attach",children:"EBS Multi-Attach"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img.png",src:i(44783).A+"",width:"305",height:"318"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Attach the same EBS volume to multiple EC2 instances in the same AZ"}),"\n",(0,t.jsx)(n.li,{children:"Each instance has full read & write permissions to the high-performance volume"}),"\n",(0,t.jsx)(n.li,{children:"Use case:"}),"\n",(0,t.jsx)(n.li,{children:"Achieve higher application availability in clustered Linux applications (ex: Teradata)"}),"\n",(0,t.jsx)(n.li,{children:"Applications must manage concurrent write operations"}),"\n",(0,t.jsx)(n.li,{children:"Up to 16 EC2 Instances at a time"}),"\n",(0,t.jsx)(n.li,{children:"Must use a file system that\u2019s cluster-aware (not XFS, EXT4, etc\u2026"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"EBS Volumes are characterized in Size | Throughput | IOPS (I/O Ops Per Sec)"}),"\n",(0,t.jsx)(n.li,{children:"When in doubt always consult the AWS documentation \u2013 it\u2019s good!"}),"\n",(0,t.jsx)(n.li,{children:"Only gp2/gp3 and io1/io2 Block Express can be used as boot volumes"}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"ebs-encryption",children:"EBS Encryption"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["When you create an encrypted EBS volume, you get the following:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Data at rest is encrypted inside the volume"}),"\n",(0,t.jsx)(n.li,{children:"All the data in flight moving between the instance and the volume is encrypted"}),"\n",(0,t.jsx)(n.li,{children:"All snapshots are encrypted"}),"\n",(0,t.jsx)(n.li,{children:"All volumes created from the snapshot"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Encryption and decryption are handled transparently (you have nothing to do)"}),"\n",(0,t.jsx)(n.li,{children:"Encryption has a minimal impact on latency"}),"\n",(0,t.jsx)(n.li,{children:"EBS Encryption leverages keys from KMS (AES-256)"}),"\n",(0,t.jsx)(n.li,{children:"Copying an unencrypted snapshot allows encryption"}),"\n",(0,t.jsx)(n.li,{children:"Snapshots of encrypted volumes are encrypted"}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"encryption-encrypt-an-unencrypted-ebs-volume",children:"Encryption: encrypt an unencrypted EBS volume"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create an EBS snapshot of the volume"}),"\n",(0,t.jsx)(n.li,{children:"Encrypt the EBS snapshot ( using copy )"}),"\n",(0,t.jsx)(n.li,{children:"Create new ebs volume from the snapshot ( the volume will also be encrypted )"}),"\n",(0,t.jsx)(n.li,{children:"Now you can attach the encrypted volume to the original instance"}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"ebs---delete-on-termination-attribute",children:"EBS - Delete on Termination attribute"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img.png",src:i(18237).A+"",width:"862",height:"154"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Controls the EBS behaviour when an EC2 instance terminates","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"By default, the root EBS volume is deleted (attribute enabled)"}),"\n",(0,t.jsx)(n.li,{children:"By default, any other attached EBS volume is not deleted (attribute disabled)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"This can be controlled by the AWS console / AWS CLI"}),"\n",(0,t.jsx)(n.li,{children:"Use case: preserve root volume when instance is terminated"}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"ebs-snapshots",children:"EBS Snapshots"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Make a backup (snapshot) of your EBS volume at a point in time"}),"\n",(0,t.jsx)(n.li,{children:"Not necessary to detach volume to do snapshot, but recommended"}),"\n",(0,t.jsxs)(n.li,{children:["Can copy snapshots across AZ or regions\n",(0,t.jsx)(n.img,{alt:"EBS Snapshots",src:i(15932).A+"",width:"2068",height:"718"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ebs-snapshot-archive",children:"EBS Snapshot Archive"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img.png",src:i(96865).A+"",width:"271",height:"152"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Move a Snapshot to an "archive tier" that is 75% cheaper'}),"\n",(0,t.jsx)(n.li,{children:"Takes within 24 to 72 hours for restoring the archive"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"recycle-bin-for-ebs-snapshots",children:"Recycle Bin for EBS Snapshots"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"img.png",src:i(73057).A+"",width:"264",height:"128"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Setup rules to retain deleted snapshots so you can recover them after an accidental deletion"}),"\n",(0,t.jsx)(n.li,{children:"Specify retention (from 1 day to 1 year)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"fast-snapshot-restore-fsr",children:"Fast Snapshot Restore (FSR)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Force full initialization of snapshot to have no latency on the first read"}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},73057:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/EBS-bin-b8685c59b46103ad66b001c612567cf4.png"},18237:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/EBS-delete-1566b9ada760d492cb2e4540e306aa42.png"},44783:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/EBS-multi-attach-6adab20bc2d31955ff26920d4e512975.png"},96865:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/EBS-snapshot-archive-62a2b20e45b2da1d2628afbb8b7821b3.png"},15932:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/EBS-snapshot-cb301001ad2af0ece68e9030ac0fc904.png"},86046:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/EBS-volume-ade68c8e0681917aa6379e4b68c27ecf.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var s=i(96540);const t={},l=s.createContext(t);function r(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);