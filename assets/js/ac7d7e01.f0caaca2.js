(self.webpackChunkkirbee_website=self.webpackChunkkirbee_website||[]).push([[8839],{96083:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/CORS-2.bae1cde.640.png 640w,"+s.p+"assets/ideal-img/CORS-2.d86ecd2.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/CORS-2.bae1cde.640.png",width:640,height:187},{path:s.p+"assets/ideal-img/CORS-2.d86ecd2.1030.png",width:1030,height:301}],src:s.p+"assets/ideal-img/CORS-2.bae1cde.640.png",placeholder:void 0,width:640,height:187}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAY0lEQVR4nAXBQRLCIAxA0d7/aC5dde84Y1ELJCGEIvN9b1u/yVoLbZ1Tg9IuxCctFj6cLIZYZ3u+vpRqXCOoZ0JyIlphhjFmYE3p7mxx3PB0Jz12jvSmiJJrpYqhrph8cM38AcgycwmfU2JPAAAAAElFTkSuQmCC"}},63194:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/CORS.cdd3b44.640.png 640w,"+s.p+"assets/ideal-img/CORS.5d08b97.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/CORS.cdd3b44.640.png",width:640,height:341},{path:s.p+"assets/ideal-img/CORS.5d08b97.1030.png",width:1030,height:548}],src:s.p+"assets/ideal-img/CORS.cdd3b44.640.png",placeholder:void 0,width:640,height:341}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjElEQVR4nB2NSQ6DMBAE/f//5R4UokQeOxiMVwZXBIc6dKsXo6rUWsk501q7icHSa2GMAVyAucQVvs1TyTlhrSC/ldo6ejROPTA/L7zn1700TU9CWBARrDhy68zvD845zJI6PjZ0DEoppLSzLsK2R8apbH5mDxZT3YMWnvRkQQsxXtdfxPu7xDjgPPgDjj/A5kV3mB4AAAAASUVORK5CYII="}},71718:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/SSE-C.7aa7700.640.png 640w,"+s.p+"assets/ideal-img/SSE-C.f58c40f.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/SSE-C.7aa7700.640.png",width:640,height:213},{path:s.p+"assets/ideal-img/SSE-C.f58c40f.1030.png",width:1030,height:343}],src:s.p+"assets/ideal-img/SSE-C.7aa7700.640.png",placeholder:void 0,width:640,height:213}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYklEQVR4nBXJSwrDMAxAQd//eKXQbQn9kxKnMrIly34ls5005yCiI3mDCZfnidd2x8xwd8bxM0hajYjBstyoqhxqEYr8aM345DfVlGTrGd+v6P7AW6FHIOsXyZmIoDbFu/MH3RJz7XYokCMAAAAASUVORK5CYII="}},96089:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/SSE-KMS-limitation.a16af42.422.png 422w",images:[{path:s.p+"assets/ideal-img/SSE-KMS-limitation.a16af42.422.png",width:422,height:495}],src:s.p+"assets/ideal-img/SSE-KMS-limitation.a16af42.422.png",placeholder:void 0,width:422,height:495}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAMCAYAAABbayygAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7UlEQVR4nH2P30rDMBSH+x4+iY/lGwheeLU3EW9EnCCC94ooCsooS5psyUBXR/8kFJtP0tFhO/EH4RwOHznfSUII/H4xfW3bdtcn3nukzBBCUhRlN+whoRSpEJRVRRKH06dzTi+OeNX3FJsKs7J453B6Qb00fHu/BSeXxxyeHDB9PoMAlavxRYF7eKR5eyeU5RZM7Yzblyvy+mPgSKy9Y+/UNE3nKrMMYyxKaay1QzAQiEcZa1Fad338NR7UpwPzrw1CKpzzu43jdOBcZFzf3LE0q6HjGPxc58zSOXXt/gfXeY6Qcn/fGPxDaQ/8AdBRzIDMlO02AAAAAElFTkSuQmCC"}},46246:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/SSE-KMS.bb4f1a0.640.png 640w,"+s.p+"assets/ideal-img/SSE-KMS.9f71e58.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/SSE-KMS.bb4f1a0.640.png",width:640,height:238},{path:s.p+"assets/ideal-img/SSE-KMS.9f71e58.1030.png",width:1030,height:383}],src:s.p+"assets/ideal-img/SSE-KMS.bb4f1a0.640.png",placeholder:void 0,width:640,height:238}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgklEQVR4nC2OQQ6CQBAE9/9nn+AXvPoEPeHJhBgCqCQbEWGHnZ0pI7EvldSh0oH/3H1jE2viZ6BoQUQ2b24EVcFNGZ49ljNdrOmnO6koqwgpL6wqhEUK5s4kBcm2VefqQjydSVkZ4oNxfhFStUOue3JzQLsjaayJt4Z32/I7Y+YUM76UzJlRySdMMQAAAABJRU5ErkJggg=="}},62367:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/SSE-S3.50f027d.640.png 640w,"+s.p+"assets/ideal-img/SSE-S3.4a66657.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/SSE-S3.50f027d.640.png",width:640,height:217},{path:s.p+"assets/ideal-img/SSE-S3.4a66657.1030.png",width:1030,height:349}],src:s.p+"assets/ideal-img/SSE-S3.50f027d.640.png",placeholder:void 0,width:640,height:217}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAZElEQVR4nB3MsQ6DMAwA0fz/p3XvVKlC6oBKoWogTmKDfRXcdstL4QcQFNk4Gz4PXsuAmWG74eG4O6n2c4Lvb6M2JYDehCqF3pU5T1QVkr5v2HLH8pO9jBy6ss4TkvOltd4u+Q/1Q3QW0gZL1gAAAABJRU5ErkJggg=="}},55691:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/client-side-encryption-2.9cae2b4.640.png 640w,"+s.p+"assets/ideal-img/client-side-encryption-2.b60dfa1.1011.png 1011w",images:[{path:s.p+"assets/ideal-img/client-side-encryption-2.9cae2b4.640.png",width:640,height:209},{path:s.p+"assets/ideal-img/client-side-encryption-2.b60dfa1.1011.png",width:1011,height:330}],src:s.p+"assets/ideal-img/client-side-encryption-2.9cae2b4.640.png",placeholder:void 0,width:640,height:209}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXklEQVR4nC2MMQ6EMAwE8//3XcEVV0ecoAjYOIE4g4xYaVfaYiaJKu08iYzoiIVv/vCbJ/wadO8kLYW9FNSMNWcsviq9XxxNWff/AyZZFqrIYwugmr1mp7bKJhs+nBvsYnRq0mPhRQAAAABJRU5ErkJggg=="}},91660:(e,i,s)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/force-encryption-in-transit.a3cde3c.640.png 640w,"+s.p+"assets/ideal-img/force-encryption-in-transit.55e44c7.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/force-encryption-in-transit.a3cde3c.640.png",width:640,height:206},{path:s.p+"assets/ideal-img/force-encryption-in-transit.55e44c7.1030.png",width:1030,height:331}],src:s.p+"assets/ideal-img/force-encryption-in-transit.a3cde3c.640.png",placeholder:void 0,width:640,height:206}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVR4nB2NSQqAMBDA+v+XulW0FaazNaK5hpASEWQmH9u6c7fGzGRY8DzCNPtdERnoUNydfjeOulDPSkSybxd9PYjeKWqGe/xVzonrQETI76RKqoMqLxXhdQLpR1jyAAAAAElFTkSuQmCC"}},1421:(e,i,s)=>{"use strict";s.r(i),s.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>A});const n=JSON.parse('{"id":"AWS/S3/security","title":"S3 Security","description":"Object Encryption","source":"@site/docs/AWS/S3/security.mdx","sourceDirName":"AWS/S3","slug":"/AWS/S3/security","permalink":"/docs/AWS/S3/security","draft":false,"unlisted":false,"editUrl":"https://github.com/kirbeee/kirbeee/docs/AWS/S3/security.mdx","tags":[],"version":"current","lastUpdatedBy":"kirbeee","lastUpdatedAt":1749101562000,"frontMatter":{},"sidebar":"docs","previous":{"title":"Storage Gateway","permalink":"/docs/AWS/S3/Storage-Gateway"},"next":{"title":"S3 Snowball","permalink":"/docs/AWS/S3/snowball"}}');var t=s(74848),r=s(28453),a=s(82331);const l={},c="S3 Security",d={},A=[{value:"Object Encryption",id:"object-encryption",level:2},{value:"SSE-S3",id:"sse-s3",level:3},{value:"SSE-KMS",id:"sse-kms",level:3},{value:"SSE-KMS Limitation",id:"sse-kms-limitation",level:4},{value:"SSE-C",id:"sse-c",level:3},{value:"Client-Side Encryption",id:"client-side-encryption",level:3},{value:"Encryption in Transit(SSL/TLS)",id:"encryption-in-transitssltls",level:2},{value:"Force Encryption in Transit aws",id:"force-encryption-in-transit-aws",level:3},{value:"What is CORS (Cross-Origin Resource Sharing)?",id:"what-is-cors-cross-origin-resource-sharing",level:2}];function o(e){const i={a:"a",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"s3-security",children:"S3 Security"})}),"\n",(0,t.jsx)(i.h2,{id:"object-encryption",children:"Object Encryption"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"You can encrypt objects in S3 buckets using one of 4 methods"}),"\n",(0,t.jsxs)(i.li,{children:["Server-Side Encryption (SSE)","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Server-Side Encryption with Amazon S3-Managed Keys (SSE-S3) \u2013 Enabled byDefault","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Encrypts S3 objects using keys handled, managed, and owned by AWS"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Server-Side Encryption with KMS Keys stored in AWS KMS (SSE-KMS)","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Leverage AWS Key Management Service (AWS KMS) to manage encryption keys"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Server-Side Encryption with Customer-Provided Keys (SSE-C)","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"When you want to manage your own encryption keys"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:"Client-Side Encryption"}),"\n",(0,t.jsx)(i.li,{children:"It\u2019s important to understand which ones are for which situation for the exam"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"sse-s3",children:"SSE-S3"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Encryption using keys handled, managed, and owned by AWS"}),"\n",(0,t.jsx)(i.li,{children:"Object is encrypted server-side"}),"\n",(0,t.jsx)(i.li,{children:"Encryption type is AES-256"}),"\n",(0,t.jsx)(i.li,{children:'Must set header "x-amz-server-side-encryption": "AES256"'}),"\n",(0,t.jsx)(i.li,{children:"Enabled by default for new buckets & new objects"}),"\n"]}),"\n",(0,t.jsx)(a.A,{alt:"SSE-S3",img:s(62367)}),"\n",(0,t.jsx)(i.h3,{id:"sse-kms",children:"SSE-KMS"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Encryption using keys handled and managed by AWS KMS (Key Management Service)"}),"\n",(0,t.jsx)(i.li,{children:"KMS advantages: user control + audit key usage using CloudTrail"}),"\n",(0,t.jsx)(i.li,{children:"Object is encrypted server side"}),"\n",(0,t.jsxs)(i.li,{children:['Must set header "x-amz-server-side-encryption": "aws',":kms",'"']}),"\n"]}),"\n",(0,t.jsx)(a.A,{alt:"SSE-KMS",img:s(46246)}),"\n",(0,t.jsx)(i.h4,{id:"sse-kms-limitation",children:"SSE-KMS Limitation"}),"\n",(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsxs)("ul",{className:"w-2/3 list-disc pl-5 text-gray-700",children:[(0,t.jsx)("li",{children:"If you use SSE-KMS, you may be impacted by the KMS limits."}),(0,t.jsx)("li",{children:"When you upload, it calls the GenerateDataKey KMS API."}),(0,t.jsx)("li",{children:"When you download, it calls the Decrypt KMS API."}),(0,t.jsx)("li",{children:"Counts toward the KMS quota per second (5500, 10000, 30000 req/s based on region)."}),(0,t.jsx)("li",{children:"You can request a quota increase using the Service Quotas Console."})]}),(0,t.jsx)(a.A,{alt:"SSE-KMS Limitation",img:s(96089),className:"w-1/3 h-auto rounded-lg shadow-md"})]}),"\n",(0,t.jsx)(i.h3,{id:"sse-c",children:"SSE-C"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Server-Side Encryption using keys fully managed by the customer outside of AWS"}),"\n",(0,t.jsx)(i.li,{children:"Amazon S3 does NOT store the encryption key you provide"}),"\n",(0,t.jsx)(i.li,{children:"HTTPS must be used"}),"\n",(0,t.jsx)(i.li,{children:"Encryption key must provided in HTTP headers, for every HTTP request made"}),"\n"]}),"\n",(0,t.jsx)(a.A,{alt:"SSE-C",img:s(71718)}),"\n",(0,t.jsx)(i.h3,{id:"client-side-encryption",children:"Client-Side Encryption"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Use client libraries such as Amazon S3 Client-Side Encryption Library"}),"\n",(0,t.jsx)(i.li,{children:"Clients must encrypt data themselves before sending to Amazon S3"}),"\n",(0,t.jsx)(i.li,{children:"Clients must decrypt data themselves when retrieving from Amazon S3"}),"\n",(0,t.jsx)(i.li,{children:"Customer fully manages the keys and encryption cycle"}),"\n"]}),"\n",(0,t.jsx)(a.A,{alt:"Client-Side Encryption",img:s(55691)}),"\n",(0,t.jsx)(i.h2,{id:"encryption-in-transitssltls",children:"Encryption in Transit(SSL/TLS)"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Encryption in flight is also called SSL/TLS"}),"\n",(0,t.jsxs)(i.li,{children:["Amazon S3 exposes two endpoints:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"HTTP Endpoint \u2013 non encrypted"}),"\n",(0,t.jsx)(i.li,{children:"HTTPS Endpoint \u2013 encryption in flight"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:"HTTPS is recommended"}),"\n",(0,t.jsx)(i.li,{children:"HTTPS is mandatory for SSE-C"}),"\n",(0,t.jsx)(i.li,{children:"Most clients would use the HTTPS endpoint by default"}),"\n"]}),"\n",(0,t.jsxs)(i.h3,{id:"force-encryption-in-transit-aws",children:["Force Encryption in Transit aws",":SecureTransport"]}),"\n",(0,t.jsx)(a.A,{alt:"Force Encryption in Transit",img:s(91660)}),"\n",(0,t.jsx)(i.h2,{id:"what-is-cors-cross-origin-resource-sharing",children:"What is CORS (Cross-Origin Resource Sharing)?"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Cross-Origin Resource Sharing (CORS)"}),"\n",(0,t.jsxs)(i.li,{children:["Origin = scheme (protocol) + host (domain) + port","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["example: ",(0,t.jsx)(i.a,{href:"https://www.example.com",children:"https://www.example.com"})," (implied port is 443 for HTTPS, 80 for HTTP)"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:"Web Browser based mechanism to allow requests to other origins while visiting the main origin"}),"\n",(0,t.jsxs)(i.li,{children:["Same origin: ",(0,t.jsx)(i.a,{href:"http://example.com/app1",children:"http://example.com/app1"})," & ",(0,t.jsx)(i.a,{href:"http://example.com/app2",children:"http://example.com/app2"})]}),"\n",(0,t.jsxs)(i.li,{children:["Different origins: ",(0,t.jsx)(i.a,{href:"http://www.example.com",children:"http://www.example.com"})," & ",(0,t.jsx)(i.a,{href:"http://other.example.com",children:"http://other.example.com"})]}),"\n",(0,t.jsx)(i.li,{children:"The requests won\u2019t be fulfilled unless the other origin allows for the requests, using CORS Headers (example: Access-Control-Allow-Origin)"}),"\n"]}),"\n",(0,t.jsx)(a.A,{alt:"CORS",img:s(63194)}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"If a client makes a cross-origin request on our S3 bucket, we need to enable the correct CORS headers"}),"\n",(0,t.jsx)(i.li,{children:"It\u2019s a popular exam question"}),"\n",(0,t.jsx)(i.li,{children:"You can allow for a specific origin or for * (all origins)"}),"\n"]}),"\n",(0,t.jsx)(a.A,{alt:"CORS",img:s(96083)})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);